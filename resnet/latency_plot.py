import matplotlib.pyplot as plt 
import numpy as np


layer_arr = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44]
edge_time = [2.539518356323242, 2.8187477588653564, 2.6832711696624756, 2.0309882164001465, 3.337660312652588, 3.252981424331665, 3.21459698677063, 4.0224456787109375, 4.37439227104187, 4.879423379898071, 4.850793838500977, 4.896121978759766, 5.630685091018677, 5.845963001251221, 5.804410934448242, 5.859048366546631, 5.845789670944214, 6.551491022109985, 6.248757362365723, 6.693110227584839, 6.66113018989563, 6.810142278671265, 7.386830806732178, 7.291001796722412, 7.38599419593811, 7.373023748397827, 7.315774440765381, 8.051432847976685, 7.684702634811401, 8.069512605667114, 8.017512321472168, 8.299316883087158, 8.338846445083618, 8.43021845817566, 8.586846828460693, 8.69924283027649, 8.782273530960083, 8.614718437194824, 9.073348760604858, 9.064874172210693, 9.413515329360962, 9.60847544670105, 9.83153510093689, 9.887950897216797, 9.518077850341797]
upload_time = [99.33839082717896, 101.88127827644348, 72.5752637386322, 21.543694734573364, 45.48426008224487, 42.25008535385132, 35.23658847808838, 42.56384801864624, 42.20829463005066, 42.78927731513977, 48.37241721153259, 33.80132818222046, 44.47195291519165, 43.827422857284546, 30.856160879135132, 30.86912488937378, 25.827918767929077, 31.08058786392212, 30.74705958366394, 19.879570245742798, 19.61768078804016, 13.51987075805664, 19.76376724243164, 19.80744194984436, 14.010651111602783, 13.640363693237305, 10.466598510742188, 13.564204216003418, 13.55823826789856, 12.678560733795166, 9.898085594177246, 6.270728349685669, 10.006216764450073, 9.823872327804565, 6.878451108932495, 6.967084884643555, 5.1496901512146, 7.126611232757568, 6.859884738922119, 4.4185264110565186, 4.355216026306152, 2.6326866149902344, 4.520299434661865, 4.505544662475586, 0.06038260459899902]
server_time = [2.8288278579711914, 2.316169261932373, 1.9025897979736328, 0.6905391216278076, 0.7450046539306641, 0.8836355209350586, 0.9504570960998535, 0.7659511566162109, 0.9155483245849609, 0.7040896415710449, 0.7399930953979492, 0.7270538806915283, 0.812854528427124, 0.8297791481018066, 0.7509901523590088, 0.8567097187042236, 0.7021217346191406, 0.6223347187042236, 0.7958357334136963, 0.4338381290435791, 0.4886937141418457, 0.4597434997558594, 0.4029512405395508, 0.5265908241271973, 0.3380722999572754, 0.5126304626464844, 0.3620314598083496, 0.31416869163513184, 0.32410192489624023, 0.24135565757751465, 0.377988338470459, 0.33011960983276367, 0.3031892776489258, 0.20340943336486816, 0.18853354454040527, 0.1785266399383545, 0.21941328048706055, 0.13564133644104004, 0.1296215057373047, 0.11170315742492676, 0.08674287796020508, 0.11066937446594238, 0.0737755298614502, 0.09773874282836914, 0.002991199493408203]

total_time = []
for i in range(0 , 45):
    total_time.append(edge_time[i] + upload_time[i] + server_time[i])

plt.title("Latency(Resnet)")

plt.xlabel("Split Index")
plt.ylabel("Latency(s)")
plt.grid()
plt.plot(layer_arr , edge_time , label = "Edge Latency")
plt.plot(layer_arr , server_time , label = "Server Latency")
plt.plot(layer_arr , upload_time , label = "Upload Latency")
plt.plot(layer_arr , total_time , label = "Total Latency")
plt.legend()
plt.show()